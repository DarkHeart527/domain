<html>
	<head>
		<script>
		var Storage = {
		 nextNum: 0,
		 currentNum: 0,
		 data: '',
		}
		var doc = document;
		var playing = false;
		var playType = "Default";
		var songListSearch;
		var songList;
		var songListMax; //Maximum Number Of Tracks
		var songListMin = 0; //Minimum Number Of Tracks
		var songListCurrent;
		var songTitle;
		var artistNumber = 0;
		var songArtist;
		var songUrl;
		var songDuration;
		var Sinterval;
		var pictureC = 1;
		var audio = {
		 pausePlay: function() {
			 if (document.getElementById('playPause').value == "paused") {
			  document.getElementById('playPause').innerHTML = "Pause"
			  document.getElementById('audio').play();
			  document.getElementById('playPause').value = "playing";
			 } else {
			  document.getElementById('playPause').innerHTML = "Play"
			  document.getElementById('audio').pause();
			  document.getElementById('playPause').value = "paused"
			 }
			 if (playing == false) {
			  startMusic();
			  document.getElementById('playPause').value = "playing";
			 }
			},
		}
		function saveData(storage) {
		 localStorage.setItem('248data', doc.getElementById('customPlaylistsDiv').innerHTML);
		 reloadList();
		}
		function loadData() {
		 doc.getElementById('customPlaylistsDiv').innerHTML = localStorage.getItem('248data');
		 reloadList();
		}
		function clearData() {
		 localStorage.setItem('248data', '');
		 doc.getElementById('customPlaylistsDiv').innerHTML = '';
		 reloadList();
		}
		function reloadList() {
			  songListCurrent = songListMin;
			  songList = songListSearch[0].getElementsByClassName("track");
			  songListMax = songList.length - 1; //Maximum Number Of Tracks
			  songTitle = songList[0].attributes.infoTitle.value;
			  songArtist = songListSearch[0].attributes.infoArtist.value;
			  songUrl = songList[0].attributes.url.value;
			  document.getElementById('title').innerHTML = songTitle;
			  document.getElementById('artist').innerHTML = songArtist;
			  document.getElementById('currentArtist').innerHTML = songArtist;
			  songListSearch[0].style = "visibility: visible;";
			  document.getElementsByClassName('trackList')[0].style = "height: " + Number((songList.length + 1)* 40) + "px;"
			 for (i = 0;songListSearch.length > i;i++) {
			  songListSearch[i].style = '';
			  if (i == songListSearch.length - 1) {
			   songListSearch[artistNumber].style = "visibility: visible;";
			  }
			 }
		}
		var songListSearch = document.getElementsByClassName("Artist");
			function startMusic() {
			 if (playing == true) {
			 } else {
			  document.getElementById('playPause').innerHTML = "Pause"
			  playing = true;
			  songListMin = 0; //Minimum Number Of Tracks
			  songListCurrent = songListMin;
			  startMusic();
			 }
			 if (playType == "Default") {
			  console.info("All The Music");
			  console.info(songListSearch);
			  songList = songListSearch[artistNumber].getElementsByClassName("track");
			  songListMax = songList.length - 1; //Maximum Number Of Tracks
			  songTitle = songList[songListCurrent].attributes.infoTitle.value;
			  songArtist = songListSearch[artistNumber].attributes.infoArtist.value;
			  songUrl = songList[songListCurrent].attributes.url.value;
			  document.getElementById('title').innerHTML = songTitle;
			  document.getElementById('artist').innerHTML = songArtist;
			  document.getElementById('currentArtist').innerHTML = songArtist;
			  document.getElementById('audio').src = 'music/' + songArtist + "/" + songUrl;
			 }
			}
			
			function changedArtist() {
			 for (i = 0;songListSearch.length > i;i++) {
			  songListSearch[i].style = '';
			  if (i == songListSearch.length - 1) {
			   songListSearch[artistNumber].style = "visibility: visible;";
			  }
			 }
			 document.getElementById('playPause').innerHTML = "Play"
			 playing = false;
			 songListCurrent = 0;
			if (playing == true) {
			} else {
			  songListMin = 0; //Minimum Number Of Tracks
			  songListCurrent = songListMin;
			}
			 if (playType == "Default") {
			  console.log(songListSearch);
			  songList = songListSearch[artistNumber].getElementsByClassName("track");
			  songListMax = songList.length - 1; //Maximum Number Of Tracks
			  songTitle = songList[songListCurrent].attributes.infoTitle.value;
			  songArtist = songListSearch[artistNumber].attributes.infoArtist.value;
			  songUrl = songList[songListCurrent].attributes.url.value;
			  document.getElementById('currentArtist').innerHTML = songArtist;
			  document.getElementById('image').src = 'pictures/' + songArtist + '/' + songArtist + '.jpg';
			  setTimeout( function() {
			   if (document.getElementById('image').networkState === 3) {
			    setTimeout( function() {console.clear();}, 50);
			    alert('Error: 404 not found\nTry looking at the extension');
		       }
			  }, 250)
			 }
			 document.getElementsByClassName('trackList')[0].style = "height: " + Number((songList.length + 1)* 40) + "px;"
			}
			function songEnded() {
			 if (songListCurrent == songListMax) {
			  if (playType == "Default") {
			    songListCurrent = 0;
			   }
			 } else {
			  songListCurrent = songListCurrent + 1;	 
			 }
			 startMusic();
			}
			function showTime() {
			 var currentMath = document.getElementById('audio').currentTime / songDuration;
			 var afterMath = currentMath * 100;
			 document.getElementById('progress').style = 'width: ' + afterMath + '%';
			}
			setTimeout( function() {
			setInterval( function() {
			 if (pictureC == 1) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress1.png');";
			 } else if (pictureC == 2) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress2.png');";
			 } else if (pictureC == 3) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress3.png');";
			 } else if (pictureC == 4) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress4.png');";
			 }
			 pictureC = pictureC + 1;
			 if (pictureC == 4) {
			  pictureC = 1;
			 }
			}, document.getElementById('animationPicture').attributes.animationDelay.value);
			}, 250);
			function previous() {
			 if (songListCurrent == songListMin) {
			  songListCurrent = songListMax;
			 } else {
			  songListCurrent = songListCurrent - 1;
			 }
			 startMusic();
			}
			function next() {
			 if (songListCurrent == songListMax) {
			  songListCurrent = songListMin;
			 } else {
			  songListCurrent = songListCurrent + 1;
			 }
			 startMusic();
			}
			function nextArtist() {
			if (artistNumber < songListSearch.length - 1) {
			  artistNumber += 1;
			  changedArtist();
			 }
			}
			function prevArtist() {
			if (artistNumber > 0) {
			   artistNumber -= 1;
			   changedArtist();
			  }
			 }
			function openSearch() {
			 document.getElementById('searchTab').style = "visibility: visible";
			}
			function closeSearch() {
			 document.getElementById('searchTab').style = "";
			}
			function useCustomPlaylists() {
			 doc.getElementById('customPlaylists').style = "";
			 doc.getElementById('customPlaylists').style = "";
			 doc.getElementById('searchArea').style = "visibility: hidden;"
			}
			function useSearch() {
			 doc.getElementById('searchArea').style = "";
			 doc.getElementById('searchArea').style = "";
			 doc.getElementById('customPlaylists').style = "visibility: hidden;"
			}
			function submitNewSong() {
			 var pPlaylist = doc.getElementById('songPlaylist').value;
			 var pTitle = doc.getElementById('songTitle').value;
			 var pArtist = doc.getElementById('songArtist').value;
			 var pUrl = doc.getElementById('songUrl').value;
			 if (document.getElementById(pPlaylist)) {
			  doc.getElementById(pPlaylist).innerHTML += '<li class="track" infoTitle="' + pTitle + '" url="' + pUrl + '"' + '>' + pTitle + '</li>'
			 } else {
			  doc.getElementById('customPlaylistsDiv').innerHTML +=
			  '<ul class="Artist" id="' + pPlaylist + '" infoArtist="' + pPlaylist + '">' +
			   '<li class="track" infoTitle="' + pTitle + '" url="' + pUrl + '"' + '>' + pTitle + '</li>' +
			  '</ul>'
			 }
			 saveData();
			}
		</script>
		<link href="styling/positioning.css" rel="stylesheet" type="text/css" />
		<link href="styling/simpleStyle.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<img class="preLoad" src="pictures/progress1.png"></img>
		<img class="preLoad" src="pictures/progress2.png"></img>
		<img class="preLoad" src="pictures/progress3.png"></img>
		<img class="preLoad" src="pictures/progress4.png"></img>
		<img class="preLoad" src="pictures/progress11.png"></img>
		<img class="preLoad" src="pictures/progress12.png"></img>
		<img class="preLoad" src="pictures/progress13.png"></img>
		<div class="holder">
			<div class="imageHolder">
				<img src="pictures/none.png" id="image" />
				<p id="title"></p>
				<p id="artist"></p>
			</div>
			<div id="progressBarHolder">
				<div id="progress">
					<div id="progressPicOverlay">
						<div id="animationPicture" animationDelay="250">
						</div>
					</div>
				</div>
			</div>
			<div class="center">
				<span id="leftABtn" onclick="prevArtist()">&#8666;</span>
				<span id="currentArtist" class="clickable" onClick="openSearch()">Drake</span>
				<span id="nextABtn" onclick="nextArtist()">&#8667;</span>
			</div>
			<div>
				<button id="" onclick="previous();">Previous</button>
				<button id="playPause" onclick="audio.pausePlay();">Play</button>
				<button id="" onclick="next();">Next</button>
			</div>
			<div class="scrollable">
				<ul class="trackList" style="height: 120px;">
					<div id="customPlaylistsDiv">
					</div>
					<ul class="Artist" infoArtist="Drake" style="visibility: visible;">
						<li class="track" infoTitle="Energy" url="Energy.mp3"></li>
						<li class="track" infoTitle="Headlines" url="Headlines.mp3"></li>
					</ul>
					<ul class="Artist" infoArtist="Disturbed">
						<li class="track" infoTitle="Down With The Sickness" url="Down With The Sickness.mp3"></li>
					</ul>
					<ul class="Artist" infoArtist="Linkin Park">
						<li class="track" infoTitle="By Myself" url="By Myself.mp3"></li>
						<li class="track" infoTitle="Cure For The Itch" url="Cure For The Itch.mp3"></li>
						<li class="track" infoTitle="Forgotten" url="Forgotten.mp3"></li>
						<li class="track" infoTitle="High Voltage" url="High Voltage.mp3"></li>
						<li class="track" infoTitle="In Pieces" url="In Pieces.mp3"></li>
						<li class="track" infoTitle="In The End" url="In The End.mp3"></li>
					</ul>
					<ul class="Artist" infoArtist="System Of A Down">
						<li class="track" infoTitle="36" url="36.mp3"></li>
						<li class="track" infoTitle="A.D.D." url="A D D.mp3"></li>
						<li class="track" infoTitle="Attack" url="Attack.mp3"></li>
						<li class="track" infoTitle="B.Y.O.B." url="B Y O B.mp3"></li>
						<li class="track" infoTitle="BOOM!" url="Boom.mp3"></li>
						<li class="track" infoTitle="Bubbles" url="Bubbles.mp3"></li>
						<li class="track" infoTitle="Chick 'N' Stew" url="Chick 'N' Stew.mp3"></li>
						<li class="track" infoTitle="Cigaro" url="Cigaro.mp3"></li>
						<li class="track" infoTitle="CUBErt" url="CUBErt.mp3"></li>
						<li class="track" infoTitle="Darts" url="Darts.mp3"></li>
						<li class="track" infoTitle="DDevil" url="DDevil.mp3"></li>
						<li class="track" infoTitle="Dreaming" url="Dreaming.mp3"></li>
						<li class="track" infoTitle="Ego Brain" url="Ego Brain.mp3"></li>
						<li class="track" infoTitle="F**k The System" url="Fxxk The System.mp3"></li>
						<li class="track" infoTitle="Highway Song" url="Highway Song.mp3"></li>
						<li class="track" infoTitle="Holy Mountains" url="Holy Mountains.mp3"></li>
						<li class="track" infoTitle="Hypnotize" url="Hypnotize.mp3"></li>
						<li class="track" infoTitle="I-E-A-I-A-I-O" url=".mp3"></li>
						<li class="track" infoTitle="Innervision" url="Innervision.mp3"></li>
						<li class="track" infoTitle="Kill Rock N' Roll" url="Kill Rock 'N Roll.mp3"></li>
						<li class="track" infoTitle="Know" url="Know.mp3"></li>
						<li class="track" infoTitle="Lonely Day" url="Lonely Day.mp3"></li>
						<li class="track" infoTitle="Lost In Hollywood" url="Lost In Hollywood.mp3"></li>
						<li class="track" infoTitle="Mind" url="Mind.mp3"></li>
						<li class="track" infoTitle="Mr. Jack" url="Mr. Jack.mp3"></li>
						<li class="track" infoTitle="Nugguns" url="Nugguns.mp3"></li>
						<li class="track" infoTitle="Old School Hollywood" url="Old School Hollywood.mp3"></li>
						<li class="track" infoTitle="P.L.U.C.K." url="P L U C K.mp3"></li>
						<li class="track" infoTitle="Peephole" url="Peephole.mp3"></li>
						<li class="track" infoTitle="Pictures" url="Pictures.mp3"></li>
						<li class="track" infoTitle="Question" url="Question.mp3"></li>
						<li class="track" infoTitle="Radio Video" url="Radio Video.mp3"></li>
						<li class="track" infoTitle="Revenga" url="Revenga.mp3"></li>
						<li class="track" infoTitle="Roulette" url="Roulette.mp3"></li>
						<li class="track" infoTitle="Sad Statue" url="Sad Statue.mp3"></li>
						<li class="track" infoTitle="She's Like Heroin" url="She's Like Heroin.mp3"></li>
						<li class="track" infoTitle="Soil" url="Soil.mp3"></li>
						<li class="track" infoTitle="Soldier Side Intro" url="Soldier Side Intro.mp3"></li>
						<li class="track" infoTitle="Soldier Side" url="Soldier Side.mp3"></li>
						<li class="track" infoTitle="Spiders" url="Spiders.mp3"></li>
						<li class="track" infoTitle="Stealing Society" url="Stealing Society.mp3"></li>
						<li class="track" infoTitle="Streamline" url="Streamline.mp3"></li>
						<li class="track" infoTitle="Sugar" url="Sugar.mp3"></li>
						<li class="track" infoTitle="Suggestions" url="Suggestions.mp3"></li>
						<li class="track" infoTitle="Suite Pee" url="Suite Pee.mp3"></li>
						<li class="track" infoTitle="Tentative" url="Tentative.mp3"></li>
						<li class="track" infoTitle="Thetawaves" url="Thetawaves.mp3"></li>
						<li class="track" infoTitle="U-Fig" url="U Fig.mp3"></li>
						<li class="track" infoTitle="Vicinity Of Obscenity" url="Vicinity Of Obscenity.mp3"></li>
						<li class="track" infoTitle="Violent Pornography" url="Violent Pornography.mp3"></li>
						<li class="track" infoTitle="War?" url="War.mp3"></li>
					</ul>
				</ul>
			</div>
		</div>
		
		<audio id="audio" onloadedmetadata="songDuration = document.getElementById('audio').duration;" onplay="Sinterval = setInterval(function() { showTime(); })" onended="songEnded();" src="" autoplay>
		</audio>
		
		<div class="linkChangeLogD">
			<a class="linkChangeLog" href="CHANGE LOG.txt" target="_blank">Change Log</a>
		</div>
		
		<div id="searchTab">
			<div class="clickable" onclick="closeSearch()">X</div>
			<span class="clickable" onClick="useSearch()">Search</span>
			<span class="clickable" onClick="useCustomPlaylists()">Custom Playlists</span>
			<div id="searchArea" class="searchArea absolute">
				<textarea></textarea>
				<button>Search</button>
				<div id="results">
					
				</div>
			</div>
			
			<div id="customPlaylists" class="absolute" style="visibility: hidden;">
				<textarea placeHolder="Playlist" id="songPlaylist"></textarea>
				<textarea placeHolder="Song Title" id="songTitle"></textarea>
				<textarea placeHolder="Song Artist" id="songArtist"></textarea>
				<textarea placeHolder="Song Url" id="songUrl"></textarea>
				<button onClick="submitNewSong()">Add</button>
				<div id="currentPlaylists">
				</div>
				<button onClick="clearData()">Clear Data</button>
			</div>
		</div>
		
		<script>
			for (i = 0;document.getElementsByClassName('track').length > i; i++) {
			 var a = document.getElementsByClassName('track');
			 a[i].innerHTML = a[i].attributes.infoTitle.value;
			 a[i].value = i;
			 a[i].onclick = function() {
			  this.id = "clicked"
			  var sartist = this.parentElement;
			  var sartist2 = sartist.parentElement;
			  var songs = sartist.getElementsByClassName('track');
			  songTitle = this.attributes.infoTitle.value;
			  songArtist = sartist.attributes.infoArtist.value;
			  songUrl = this.attributes.url.value;
			  document.getElementById('title').innerHTML = songTitle;
			  document.getElementById('artist').innerHTML = songArtist;
			  document.getElementById('currentArtist').innerHTML = songArtist;
			  document.getElementById('audio').src = 'music/' + songArtist + "/" + songUrl;
			  document.getElementById('playPause').innerHTML = "Pause"
			  this.id = '';
			  playing = true;
			 }
			}
			loadData();
		</script>
	</body>
</html>
