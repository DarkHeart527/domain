<html>
	<head>
		<script>
		var playing = false;
		var playType = "Default";
		var songListSearch;
		var songList;
		var songListMax; //Maximum Number Of Tracks
		var songListMin = 0; //Minimum Number Of Tracks
		var songListCurrent;
		var songTitle;
		var authorNumber = 1;
		var songArtist;
		var songUrl;
		var songDuration;
		var Sinterval;
		var pictureC = 1;
			function startMusic() {
			 if (playing == true) {
			  console.info('Music Started!');
			 } else {
			  playing = true;
			  console.info('Loading Music...');
			  songListMin = 0; //Minimum Number Of Tracks
			  songListCurrent = songListMin;
			  startMusic();
			 }
			 if (playType == "Default") {
			  songListSearch = document.getElementsByClassName("Author");
			  console.log(songListSearch);
			  songList = songListSearch[authorNumber].getElementsByClassName("track");
			  songListMax = songList.length - 1; //Maximum Number Of Tracks
			  songTitle = songList[songListCurrent].attributes.infoTitle.value;
			  songArtist = songList[songListCurrent].attributes.infoArtist.value;
			  songUrl = songList[songListCurrent].attributes.url.value;
			  document.getElementById('title').innerHTML = songTitle;
			  document.getElementById('artist').innerHTML = songArtist;
			  document.getElementById('audio').src = 'music/' + songUrl;
			 }
			}
			function songEnded() {
			 songListCurrent = songListCurrent + 1;
			 if (songListCurrent == songListMax) {
			 if (playType == "Default") {
			   songListCurrent = 0;
			  }
			 }
			 startMusic();
			}
			function showTime() {
			 var currentMath = document.getElementById('audio').currentTime / songDuration;
			 var afterMath = currentMath * 100;
			 document.getElementById('progress').style = 'width: ' + afterMath + '%';
			}
			function pP() {
			 if (document.getElementById('playPause').value == "paused") {
			  document.getElementById('audio').play();
			  document.getElementById('playPause').value = "playing";
			 } else {
			  document.getElementById('audio').pause();
			  document.getElementById('playPause').value = "paused"
			 }
			 if (playing == false) {
			  startMusic();
			  document.getElementById('playPause').value = "playing";
			 }
			}
			setTimeout( function() {
			setInterval( function() {
			 if (pictureC == 1) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress1.png');";
			 } else if (pictureC == 2) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress2.png');";
			 } else if (pictureC == 3) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress3.png');";
			 } else if (pictureC == 4) {
			 document.getElementById('animationPicture').style = "background: url('pictures/progress4.png');";
			 }
			 pictureC = pictureC + 1;
			 if (pictureC == 4) {
			  pictureC = 1;
			 }
			}, document.getElementById('animationPicture').attributes.animationDelay.value);
			}, 250);
			function previous() {
			 if (songListCurrent == songListMin) {
			  songListCurrent = songListMax;
			 } else {
			  songListCurrent = songListCurrent - 1;
			 }
			 startMusic();
			}
			function next() {
			 if (songListCurrent == songListMax) {
			  songListCurrent = songListMin;
			 } else {
			  songListCurrent = songListCurrent + 1;
			 }
			 startMusic();
			}
			function nextAuthor() {
			 authorNumber += 1;
			 startMusic();
			}
			function prevAuthor() {
			 authorNumber -= 1;
		  	 startMusic();
			}
		</script>
		<link href="styling/positioning.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<img class="preLoad" src="pictures/progress1.png"></img>
		<img class="preLoad" src="pictures/progress2.png"></img>
		<img class="preLoad" src="pictures/progress3.png"></img>
		<img class="preLoad" src="pictures/progress4.png"></img>
		<img class="preLoad" src="pictures/progress11.png"></img>
		<img class="preLoad" src="pictures/progress12.png"></img>
		<img class="preLoad" src="pictures/progress13.png"></img>
		<div class="holder">
			<div class="imageHolder">
				<img src="pictures/none.png" id="image" />
				<p id="title">Some Title Here</p>
				<p id="artist">Some Artist Here</p>
			</div>
			<div id="progressBarHolder">
				<div id="progress">
					<div id="progressPicOverlay">
						<div id="animationPicture" animationDelay="250">
						</div>
					</div>
				</div>
			</div>
			<div>
				<button id="" onclick="previous();">Previous</button>
				<button id="" onclick="next();">Next</button>
				<button id="playPause" onclick="pP();">Play / Pause</button>
				<button id="" onclick="prevAuthor()">Previous Author</button>
				<button id="" onclick="nextAuthor()">Next Author</button>
			</div>
			<div class="scrollable">
				<ul class="trackList">
					<ul class="Author" value="Drake">
						<li class="track" infoTitle="Energy" infoArtist="Drake" url="Energy.mp3">Energy</li>
						<li class="track" infoTitle="Headlines" infoArtist="Drake" url="Headlines.mp3">Headlines</li>
					</ul>
					<ul class="Author" value="Linkin Park">
						<li class="track" infoTitle="Cure For The Itch" infoArtist="Linkin Park" url="Cure For The Itch.mp3">Cure For The Itch</li>
						<li class="track" infoTitle="In The End" infoArtist="Linkin Park" url="In The End.mp3">In The End</li>
						<li class="track" infoTitle="Forgotten" infoArtist="Linkin Park" url="Forgotten.mp3">In The End</li>
					</ul>
				</ul>
			</div>
		</div>
		<audio id="audio" onloadedmetadata="songDuration = document.getElementById('audio').duration;" onplay="Sinterval = setInterval(function() { showTime(); })" onended="songEnded();" src="" autoplay>
		</audio>
	</body>
</html>
